<%= render 'layouts/admin' %>
<div class = "container">
  <div class = "row">
  <h3 class = "ml-2">ジャンル一覧・追加</h3>
  </div>
  
  <div class = "row mx-auto">
  <% if @genre.errors.any? %>
  <%= @genre.errors.count %>件のエラーが発生しました
  <ul>
    <% @genre.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
  <% end %>
  </div>
  
  ジャンル名
  <%= form_with model: @genre, url: admin_genres_path, method: :post do |f| %>
    <%= f.text_field :name %>

    <%= f.submit '新規登録',class:"btn btn-success" %>
  <% end %>

  <table class="table mt-5 mb-2">
    <thead>
      <tr>
        <th>ジャンル</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
    <% @genres.each do |genre| %>
      <tr>
        <td><%= genre.name %></td>
        <td><%= link_to "編集", edit_admin_genre_path(genre.id),class:"btn btn-success" %></td>
      </tr>
    </tbody>
    <% end %>
  </table>
</div>